<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Shopaholic</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --accent: linear-gradient(135deg, #ff4d4d, #ff9f1c);
    }

    /* BODY */
    body {
      font-family: 'Poppins', sans-serif;
      background: #f6f7fb;
      overflow-x: hidden;
    }

    /* NAVBAR */
    .navbar {
      backdrop-filter: blur(10px);
      background: rgba(0, 0, 0, 0.88);
      box-shadow: 0 8px 30px rgba(0,0,0,0.3);
    }

    .navbar-brand {
      font-size: 1.4rem;
      letter-spacing: 1px;
    }

    /* NAV LINKS WITH UNDERLINE */
    .nav-link {
      color: #fff !important;
      margin-right: 18px;
      position: relative;
      font-weight: 500;
    }

    .nav-link::after {
      content: '';
      position: absolute;
      width: 0;
      height: 2px;
      bottom: -5px;
      left: 0;
      background: #ff9f1c;
      transition: width 0.3s ease;
    }

    .nav-link:hover::after {
      width: 100%;
    }

    /* NAVBAR BUTTONS (NO GRADIENT) */
    .btn-nav {
      background: #1f1f1f;
      color: #fff;
      border: 1px solid #333;
      padding: 6px 14px;
      font-size: 0.85rem;
      border-radius: 8px;
    }

    .btn-nav:hover {
      background: #2a2a2a;
      color: #fff;
    }

    /* CTA / ACTION BUTTONS (GRADIENT) */
    .btn-gradient {
      background: var(--accent);
      color: #fff;
      border: none;
      padding: 10px 24px;
      border-radius: 10px;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .btn-gradient:hover {
      transform: translateY(-2px);
      opacity: 0.95;
    }

    /* HERO CTA */
    .btn-cta {
      background: var(--accent);
      color: #fff;
      border: none;
      padding: 12px 32px;
      font-weight: 600;
      border-radius: 12px;
      transition: all 0.3s ease;
    }

    .btn-cta:hover {
      transform: translateY(-2px);
      opacity: 0.95;
    }

    /* PRODUCT CARD */
    .product-card {
      border-radius: 18px;
      transition: 0.3s ease;
      background: #fff;
    }

    .product-card:hover {
      transform: translateY(-6px);
      box-shadow: 0 18px 40px rgba(0,0,0,0.15);
    }

    /* FOOTER */
    footer {
      background: #111;
      color: #bbb;
      padding: 40px 0;
      margin-top: 80px;
    }
  </style>
</head>

<body>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-dark px-4 py-3">
  <a class="navbar-brand fw-bold text-white" href="{% url 'shop:home' %}">
    Shopaholic
  </a>

  <div class="ms-auto d-flex align-items-center">
    <!-- LINKS -->
    <div class="ms-auto d-flex align-items-center">

  <!-- SEARCH ONLY FOR USERS -->
  {% if not user.is_superuser %}
  <form class="d-flex me-3"
        action="{% url 'shop:search' %}"
        method="get">
    <input class="form-control form-control-sm"
           type="search"
           name="q"
           placeholder="Search...">
  </form>
  {% endif %}

  {% if user.is_authenticated and user.is_superuser %}
    <!-- âœ… ADMIN NAVBAR -->
    <a class="nav-link" href="{% url 'adminapp:dashboard' %}">
      Admin Dashboard
    </a>

    <a class="btn btn-nav btn-sm me-2"
       href="{% url 'adminapp:admin_products' %}">
      Manage Products
    </a>

    <a class="btn btn-nav btn-sm"
       href="{% url 'userapp:logout' %}">
      Logout
    </a>

  {% else %}
    <!-- ðŸ‘¤ USER NAVBAR -->
    <a class="nav-link" href="{% url 'shop:home' %}">Home</a>
    <a class="nav-link" href="{% url 'shop:collection' %}">Collection</a>
    <a class="nav-link" href="{% url 'shop:about' %}">About</a>
    <a class="nav-link" href="{% url 'shop:contact' %}">Contact</a>

    {% if user.is_authenticated %}
      <span class="text-white me-2">
        Hi, {{ user.username }}
      </span>

      <a class="btn btn-nav btn-sm me-2"
         href="{% url 'shop:my_orders' %}">
        My Orders
      </a>

      <a class="btn btn-nav btn-sm me-2"
         href="{% url 'userapp:logout' %}">
        Logout
      </a>
    {% else %}
      <a class="btn btn-nav btn-sm me-2"
         href="{% url 'userapp:login' %}">
        Login
      </a>
      <a class="btn btn-nav btn-sm me-2"
         href="{% url 'adminapp:admin_login' %}">
        Admin Login
      </a>
    {% endif %}

    <a class="btn btn-nav btn-sm"
       href="{% url 'shop:view_cart' %}">
      ðŸ›’ Cart
    </a>
  {% endif %}

</div>

</nav>

<!-- PAGE CONTENT -->
<div class="container my-5">
  {% block content %}{% endblock %}
</div>

<!-- FOOTER -->
<footer>
  <div class="container text-center">
    <h5 class="fw-bold text-white">Shopaholic</h5>
    <p class="small">Fashion that defines your confidence</p>
    <p class="small mb-0">Â© 2026 Shopaholic</p>
  </div>
</footer>

</body>
</html>
