{% extends 'shop/base.html' %}

{% block content %}

<h4 class="fw-bold mb-4">Your Shopping Cart</h4>

{% if cart_items %}
<div class="row">
  <div class="col-lg-8">

    {% for item in cart_items %}
    <div class="card mb-3 shadow-sm border-0">
      <div class="row g-0 align-items-center">

        <!-- Product Image -->
        <div class="col-md-3">
          <img src="{{ item.product.image.url }}"
               class="img-fluid rounded-start"
               alt="{{ item.product.name }}">
        </div>

        <!-- Product Details -->
        <div class="col-md-6">
          <div class="card-body">
            <h6 class="fw-semibold">{{ item.product.name }}</h6>
            <p class="text-muted small mb-1">
              {{ item.product.description }}
            </p>
            <p class="fw-bold mb-0">‚Çπ {{ item.product.price }}</p>
          </div>
        </div>

        <!-- Quantity & Remove -->
        <div class="col-md-3 text-center">
          <p class="mb-1">Qty: {{ item.quantity }}</p>
          <a href="{% url 'shop:remove_from_cart' item.id %}"
             class="btn btn-outline-danger btn-sm">
            Remove
          </a>
        </div>

      </div>
    </div>
    {% endfor %}

  </div>

  <!-- Cart Summary -->
  <div class="col-lg-4">
    <div class="card shadow-sm border-0 p-3">
      <h6 class="fw-bold">Price Details</h6>
      <hr>

      <p class="d-flex justify-content-between">
        <span>Total Items</span>
        <span>{{ cart_items|length }}</span>
      </p>

      <p class="d-flex justify-content-between fw-bold">
        <span>Total Amount</span>
        <span>‚Çπ {{ total_price }}</span>
      </p>
      

     <a href="{% url 'shop:checkout' %}" class="btn btn-gradient btn-sm w-100">
  Proceed to Checkout
</a>

    </div>
  </div>
</div>

{% else %}
<div class="text-center mt-5">
  <h6>Your cart is empty üõçÔ∏è</h6>
  <p class="text-muted">Looks like you haven‚Äôt added anything yet</p>
  <a href="{% url 'shop:home' %}" class="btn btn-gradient btn-sm w-100">
    Continue Shopping
  </a>
</div>
{% endif %}

{% endblock %}
